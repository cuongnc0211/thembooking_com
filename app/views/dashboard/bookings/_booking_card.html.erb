<div class="card p-6 hover:shadow-lg transition-shadow" id="booking_<%= booking.id %>">
  <div class="flex justify-between items-start mb-4">
    <!-- Time and Customer Info -->
    <div class="flex-1">
      <div class="flex items-baseline gap-3 mb-2">
        <span class="text-2xl font-bold text-slate-900">
          <%= booking.scheduled_at.strftime("%H:%M") %>
        </span>
        <span class="text-sm text-slate-500">
          (<%= booking.total_duration_minutes %> min)
        </span>
      </div>

      <div class="text-lg font-semibold text-slate-900 mb-1">
        <%= booking.customer_name %>
      </div>

      <div class="text-sm text-slate-600 space-y-1">
        <div>
          <span class="font-medium">Phone:</span>
          <%= booking.customer_phone %>
        </div>
        <% if booking.customer_email.present? %>
          <div>
            <span class="font-medium">Email:</span>
            <%= booking.customer_email %>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Status Badge -->
    <div>
      <% case booking.status %>
      <% when "pending" %>
        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
          Pending
        </span>
      <% when "confirmed" %>
        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">
          Confirmed
        </span>
      <% when "in_progress" %>
        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
          In Progress
        </span>
      <% when "completed" %>
        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-slate-100 text-slate-600">
          Completed
        </span>
      <% when "cancelled" %>
        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">
          Cancelled
        </span>
      <% when "no_show" %>
        <span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800">
          No Show
        </span>
      <% end %>
    </div>
  </div>

  <!-- Services -->
  <div class="mb-4">
    <div class="text-sm font-medium text-slate-700 mb-1">Services:</div>
    <div class="flex flex-wrap gap-2">
      <% booking.services.each do |service| %>
        <span class="px-2 py-1 bg-slate-100 text-slate-700 text-sm rounded">
          <%= service.name %>
        </span>
      <% end %>
    </div>
  </div>

  <!-- Notes (if any) -->
  <% if booking.notes.present? %>
    <div class="mb-4 p-3 bg-slate-50 rounded">
      <div class="text-sm font-medium text-slate-700 mb-1">Notes:</div>
      <div class="text-sm text-slate-600">
        <%= booking.notes %>
      </div>
    </div>
  <% end %>

  <!-- Source Badge -->
  <div class="mb-4">
    <% if booking.walk_in? %>
      <span class="px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded font-medium">
        Walk-in
      </span>
    <% else %>
      <span class="px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded font-medium">
        Online Booking
      </span>
    <% end %>
  </div>

  <!-- Action Buttons (will add in Phase 2) -->
  <div class="flex gap-2 pt-4 border-t border-slate-200">
    <%= link_to "View Details", dashboard_booking_path(booking), class: "text-sm text-primary-600 hover:text-primary-800 font-medium" %>

    <% case booking.status %>
    <% when "pending" %>
      <%= button_to "Confirm", confirm_dashboard_booking_path(booking), method: :patch, class: "text-sm bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded font-medium cursor-pointer" %>
    <% when "confirmed" %>
      <%= button_to "Start Service", start_dashboard_booking_path(booking), method: :patch, class: "text-sm bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded font-medium cursor-pointer" %>
    <% when "in_progress" %>
      <%= button_to "Complete", complete_dashboard_booking_path(booking), method: :patch, class: "text-sm bg-slate-600 hover:bg-slate-700 text-white px-3 py-1 rounded font-medium cursor-pointer" %>
    <% end %>

    <% if ["pending", "confirmed", "in_progress"].include?(booking.status) %>
      <%= button_to "Cancel", cancel_dashboard_booking_path(booking), method: :patch, data: { turbo_confirm: "Are you sure you want to cancel this booking?" }, class: "text-sm text-red-600 hover:text-red-800 font-medium cursor-pointer ml-auto" %>
    <% end %>

    <% if ["confirmed", "in_progress"].include?(booking.status) %>
      <%= button_to "No Show", no_show_dashboard_booking_path(booking), method: :patch, data: { turbo_confirm: "Mark this booking as no-show?" }, class: "text-sm text-orange-600 hover:text-orange-800 font-medium cursor-pointer" %>
    <% end %>
  </div>
</div>
